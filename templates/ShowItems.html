<!-- extends表明此页面继承自 base.html 文件 -->



{% extends "base.html" %}
{% load static %}


{% block title %}
    校园二手
{% endblock title %}


{% block content %}

    <div class="container">
        {% for item in items %}
            <div class="row col-xs-4 col-sm-3 g-3">
                <div class="col mb-4">
                    {#                    <div class="row row-cols-md-3 row-cols-1">#}
                    {#            <div class="col mb-4">#}
                    <div class="card shadow-sm">
                        <img class="card-img-top" src="../static/imgs/img/{{ item.img }}" alt="Card image" height="300" width="150"
                             >
                        <div class="card-body">
                            <h4 class="card-title">{{ item.item_name }}</h4>
                            <p class="card-text">{{ item.item_content }}</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="btn-group">
                                    {#                                    <button type="button" class="btn btn-sm btn-outline-secondary">View</button>#}
                                    <button type="button"
                                            class="btn btn-sm btn-outline-secondary">{{ item.item_class }}</button>
                                </div>
                                <small class="text-muted">价格：{{ item.item_price }}</small>
{#                                <small class="text-muted">id：{{ item.item_id }}</small>#}
{#                                <div class="col-md-2"><button class="btn btn-primary btn-sm" onclick="disp_prompt({{item.item_id}})">评分</button>#}
{#                                </div>#}
                                <div id="sitelogo">
                                    <ul class="starrating">
                                        <li id="currentrating"></li>
                                        <li><a onmouseover="infen([1,'{{item.item_name}}'])" onmouseout="infen([0,'{{item.item_name}}'])" href="javascript:makeRequest('{{ item.item_name }}','1',{{ item.item_id }});" class="star1">1</a></li>
                                        <li><a onmouseover="infen([2,'{{item.item_name}}'])" onmouseout="infen([0,'{{item.item_name}}'])" href="javascript:makeRequest('{{ item.item_name }}','2',{{ item.item_id }});" class="star2">2</a></li>
                                        <li><a onmouseover="infen([3,'{{item.item_name}}'])" onmouseout="infen([0,'{{item.item_name}}'])" href="javascript:makeRequest('{{ item.item_name }}','3',{{ item.item_id }});" class="star3">3</a></li>
                                        <li><a onmouseover="infen([4,'{{item.item_name}}'])" onmouseout="infen([0,'{{item.item_name}}'])" href="javascript:makeRequest('{{ item.item_name }}','4',{{ item.item_id }});" class="star4">4</a></li>
                                        <li><a onmouseover="infen([5,'{{item.item_name}}'])" onmouseout="infen([0,'{{item.item_name}}'])" href="javascript:makeRequest('{{ item.item_name }}','5',{{ item.item_id }});" class="star5">5</a></li>
                                        <li><a onmouseover="infen([6,'{{item.item_name}}'])" onmouseout="infen([0,'{{item.item_name}}'])" href="javascript:makeRequest('{{ item.item_name }}','6',{{ item.item_id }});" class="star6">6</a></li>
                                        <li><a onmouseover="infen([7,'{{item.item_name}}'])" onmouseout="infen([0,'{{item.item_name}}'])" href="javascript:makeRequest('{{ item.item_name }}','7',{{ item.item_id }});" class="star7">7</a></li>
                                        <li><a onmouseover="infen([8,'{{item.item_name}}'])" onmouseout="infen([0,'{{item.item_name}}'])" href="javascript:makeRequest('{{ item.item_name }}','8',{{ item.item_id }});" class="star8">8</a></li>
                                        <li><a onmouseover="infen([9,'{{item.item_name}}'])" onmouseout="infen([0,'{{item.item_name}}'])" href="javascript:makeRequest('{{ item.item_name }}','9',{{ item.item_id }});" class="star9">9</a></li>
                                        <li><a onmouseover="infen([10,'{{item.item_name}}'])" onmouseout="infen([0,'{{item.item_name}}'])" href="javascript:makeRequest('{{ item.item_name }}','10',{{ item.item_id }});" class="star10">10</a></li>

                                    </ul>
                                    <li id="{{item.item_name}}"></li>
                                </div>
{#                            <div>#}
{#                                <input id="input-21e" type="number" class="rating" min="0" max="5" step="0.5"#}
{#                                       data-size="xs"#}
{#                                       data-symbol="&#xe005;" data-default-caption="{rating} hearts"#}
{#                                       data-star-captions="{}">#}
{#                                <button type="submit" class="btn btn-primary">Submit</button>#}
{#                                <button type="reset" class="btn btn-default">Reset</button>#}
{#                            </div>#}
                        </div>
                    </div>
                </div>
            </div>

            </div>
        {% endfor %}

{% endblock content %}



{#<script>#}
{##}
{#   jQuery(document).ready(function () {#}
{##}
{#       $(".rating-kv").rating();#}
{##}
{#   });#}
{##}
{#</script>#}
{#<script type="text/javascript">#}
{##}
{#    function disp_prompt(id) {#}
{#        var rate = prompt("请输入您的评分");#}
{##}
{#        if (rate != null && rate != "") {#}
{#            if (parseFloat(rate) > 10) {#}
{#                alert("请输入0-10之间的数字进行评分");#}
{#                return;#}
{#            } else {#}
{#                $.post('/book/rating/', {#}
{#                    "book_id": id,#}
{#                    "rate": rate#}
{#                }, function (data) {#}
{#                        alert("评分成功!");#}
{#                    }else{#}
{#                        alert("评分异常");#}
{#                    }#}
{#                });#}
{#            }#}
{##}
{#        }#}
{#    }#}
{#                    var dt=JSON.parse(data);#}
{#                    if(dt.state==1){#}
{##}
{#</script>#}
